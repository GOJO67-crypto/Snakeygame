<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Snake Game</title>
  <style>
    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      background: #111;
      color: #eee;
      display: grid;
      grid-template-rows: auto 1fr auto;
      height: 100vh;
    }
    .topbar, .footer {
      padding: 0.5rem 1rem;
      background: #222;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .controls { display: flex; gap: 0.5rem; align-items: center; }
    button, select {
      background: #4caf50;
      border: none;
      padding: 0.4rem 0.8rem;
      color: #fff;
      font-weight: bold;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover, select:hover { background: #45a049; }
    .game-wrap { display: grid; place-items: center; }
    canvas {
      background: #000;
      border: 2px solid #444;
    }
    .overlay {
      position: fixed;
      inset: 0;
      display: grid;
      place-items: center;
      background: rgba(0,0,0,0.6);
    }
    .overlay.hidden { display: none; }
    .panel {
      background: #222;
      padding: 1rem 2rem;
      border-radius: 8px;
      text-align: center;
    }
  </style>
</head>
<body>
  <header class="topbar">
    <h1>Snake Game</h1>
    <div class="controls">
      <button id="btn-start">Start</button>
      <button id="btn-pause">Pause</button>
      <span id="score">Score: 0</span>
      <span id="highscore">High Score: 0</span>
      <label for="skin">Skin:</label>
      <select id="skin">
        <option value="#4caf50">Green</option>
        <option value="#2196f3">Blue</option>
        <option value="#f44336">Red</option>
        <option value="#ffeb3b">Yellow</option>
        <option value="#9c27b0">Purple</option>
      </select>
    </div>
  </header>

  <main class="game-wrap">
    <canvas id="game" width="400" height="400"></canvas>
    <div id="overlay" class="overlay hidden">
      <div class="panel">
        <h2>Paused</h2>
        <button id="btn-resume">Resume</button>
      </div>
    </div>
  </main>

  <footer class="footer">
    <p>Â© 2025 Snake Game</p>
  </footer>

  <script>
    const canvas = document.getElementById('game');
    const ctx = canvas.getContext('2d');

    const btnStart = document.getElementById('btn-start');
    const btnPause = document.getElementById('btn-pause');
    const btnResume = document.getElementById('btn-resume');
    const overlay = document.getElementById('overlay');
    const scoreEl = document.getElementById('score');
    const highscoreEl = document.getElementById('highscore');
    const skinSelect = document.getElementById('skin');

    const gridSize = 20;
    let snake, direction, food, score, highscore = 0;
    let running, paused;
    let snakeColor = skinSelect.value;

    function initGame() {
      snake = [{ x: 200, y: 200 }];
      direction = { x: gridSize, y: 0 };
      food = randomFood();
      score = 0;
      scoreEl.textContent = `Score: ${score}`;
      running = true;
      paused = false;
      overlay.classList.add('hidden');
      requestAnimationFrame(loop);
    }

    function loop() {
      if (!running) return;
      if (!paused) update();
      render();
      setTimeout(() => requestAnimationFrame(loop), 100);
    }

    function update() {
      const head = { x: snake[0].x + direction.x, y: snake[0].y + direction.y };
      head.x = (head.x + canvas.width) % canvas.width;
      head.y = (head.y + canvas.height) % canvas.height;

      if (snake.some(seg => seg.x === head.x && seg.y === head.y)) {
        running = false;
        if (score > highscore) {
          highscore = score;
          highscoreEl.textContent = `High Score: ${highscore}`;
        }
        alert('Game Over! Final Score: ' + score);
        return;
      }

      snake.unshift(head);

      if (head.x === food.x && head.y === food.y) {
        score++;
        scoreEl.textContent = `Score: ${score}`;
        food = randomFood();
      } else {
        snake.pop();
      }
    }

    function render() {
      ctx.fillStyle = '#000';
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      ctx.fillStyle = snakeColor;
      snake.forEach(seg => ctx.fillRect(seg.x, seg.y, gridSize, gridSize));

      ctx.fillStyle = '#f44336';
      ctx.fillRect(food.x, food.y, gridSize, gridSize);
    }

    function randomFood() {
      return {
        x: Math.floor(Math.random() * (canvas.width / gridSize)) * gridSize,
        y: Math.floor(Math.random() * (canvas.height / gridSize)) * gridSize
      };
    }

    window.addEventListener('keydown', e => {
      switch (e.key) {
        case 'ArrowUp': if (direction.y === 0) direction = { x: 0, y: -gridSize }; break;
        case 'ArrowDown': if (direction.y === 0) direction = { x: 0, y: gridSize }; break;
        case 'ArrowLeft': if (direction.x === 0) direction = { x: -gridSize, y: 0 }; break;
        case 'ArrowRight': if (direction.x === 0) direction = { x: gridSize, y: 0 }; break;
      }
    });

    btnStart.addEventListener('click', initGame);
    btnPause.addEventListener('click', () => { paused = true; overlay.classList.remove('hidden'); });
    btnResume.addEventListener('click', () => { paused = false; overlay.classList.add('hidden'); });
    skinSelect.addEventListener('change', e => { snakeColor = e.target.value; });
  </script>
</body>
</html>
